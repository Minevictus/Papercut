From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Mariell Hoversholm <proximyst@proximyst.com>
Date: Tue, 30 Jun 2020 12:40:10 +0200
Subject: [PATCH] Prevent overflow in villager gossip

---
 src/main/java/net/minecraft/server/Reputation.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/main/java/net/minecraft/server/Reputation.java b/src/main/java/net/minecraft/server/Reputation.java
index 28c9f9ed2d532a1eb14b74c2e9723a2cf1b3c6fa..215a43441cbf9c65df43f7b217c50a41bfbbf116 100644
--- a/src/main/java/net/minecraft/server/Reputation.java
+++ b/src/main/java/net/minecraft/server/Reputation.java
@@ -61,7 +61,7 @@ public class Reputation {
             for (int k = 0; k < list.size(); ++k) {
                 Reputation.b reputation_b = (Reputation.b) list.get(k);
 
-                j += Math.abs(reputation_b.a());
+                j = Math.abs(j + reputation_b.a()); // Papercut - prevent overflow
                 aint[k] = j - 1;
             }
 
